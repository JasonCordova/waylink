<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/extras/spring-security">
<head>

</head>
<body>

    <div th:fragment="headerFragment(extraClass)" id="header" th:class="${extraClass ?: ''}">

        <a href="/">
            <svg class="logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 423.6 120.063"><path d="m16.5 36.001 11.125 38.125L37.75 38.688q1.625-5.562 2.406-7.594a9.883 9.883 0 0 1 2.938-3.875A8.8 8.8 0 0 1 49 25.375a8.9 8.9 0 0 1 5.969 1.844 10.533 10.533 0 0 1 3.031 4q.875 2.156 2.438 7.469l10.124 35.438 11.25-38.125q1.125-4.125 1.813-5.969a7.941 7.941 0 0 1 2.313-3.25 6.961 6.961 0 0 1 4.688-1.406 7.48 7.48 0 0 1 5.313 2.125 6.662 6.662 0 0 1 2.25 5 26.032 26.032 0 0 1-1.937 7.938l-13.94 40.874q-1.813 5.188-2.812 7.5a11.181 11.181 0 0 1-3.157 4.125 8.9 8.9 0 0 1-5.906 1.813 8.951 8.951 0 0 1-6.094-1.938 11.684 11.684 0 0 1-3.281-4.75q-1.063-2.812-2.312-7.312L49 47.501l-9.438 33.25A40.809 40.809 0 0 1 35.5 91.219q-2.188 3.531-7.688 3.532a9.714 9.714 0 0 1-4.781-1.094 9.212 9.212 0 0 1-3.281-3.125 23.518 23.518 0 0 1-2.312-4.812q-1-2.781-1.562-4.406L2.062 40.438Q0 34.688 0 32.501a6.817 6.817 0 0 1 2.188-4.937 7.307 7.307 0 0 1 5.374-2.188q4.25 0 5.75 2.406a35.661 35.661 0 0 1 3.188 8.219Zm130.162 49.125a52.843 52.843 0 0 1-11.969 7.218 33.458 33.458 0 0 1-12.969 2.406 24.57 24.57 0 0 1-11.531-2.594 18.979 18.979 0 0 1-7.656-7.031A18.244 18.244 0 0 1 99.85 75.5a17.231 17.231 0 0 1 4.438-11.937 22.188 22.188 0 0 1 12.188-6.625q1.625-.375 8.063-1.687t11.031-2.406q4.592-1.094 9.967-2.657-.313-6.75-2.719-9.906t-9.969-3.156q-6.5 0-9.781 1.813a15.879 15.879 0 0 0-5.625 5.438 57.814 57.814 0 0 1-3.312 4.781q-.969 1.156-4.156 1.156a7.27 7.27 0 0 1-4.969-1.844 6 6 0 0 1-2.094-4.719 14.433 14.433 0 0 1 3.188-8.75q3.188-4.25 9.938-7t16.813-2.75q11.25 0 17.688 2.656a16.442 16.442 0 0 1 9.094 8.406q2.656 5.75 2.656 15.25 0 6-.031 10.188t-.094 9.313a34.309 34.309 0 0 0 1.594 10.031 31.665 31.665 0 0 1 1.594 6.719 6.288 6.288 0 0 1-2.469 4.781 8.273 8.273 0 0 1-5.594 2.156 7.545 7.545 0 0 1-5.187-2.469 36.637 36.637 0 0 1-5.44-7.156Zm-1.125-24.688a85.908 85.908 0 0 1-10.906 2.906q-7.156 1.531-9.906 2.25a13.484 13.484 0 0 0-5.25 2.813 7.205 7.205 0 0 0-2.5 5.844 8.654 8.654 0 0 0 2.938 6.594 10.868 10.868 0 0 0 7.688 2.719 20 20 0 0 0 9.344-2.219 14.807 14.807 0 0 0 6.281-5.719q2.312-3.875 2.313-12.75Zm43.412 36.438 1.563-3.813-21-52.875q-1.938-4.562-1.937-6.625a7.755 7.755 0 0 1 1.125-4.062 8.388 8.388 0 0 1 3.094-3 8.141 8.141 0 0 1 4.094-1.125 6.7 6.7 0 0 1 5.563 2.344 21.647 21.647 0 0 1 3.311 6.718l14.438 42 13.688-39.062a67.418 67.418 0 0 1 2.938-7.437 8.756 8.756 0 0 1 2.781-3.625 7.724 7.724 0 0 1 4.156-.937 7.319 7.319 0 0 1 3.719 1.031 7.2 7.2 0 0 1 2.749 2.78 7.5 7.5 0 0 1 .969 3.688q-.25 1.188-.812 3.375t-1.376 4.437l-22.25 58.25a68.1 68.1 0 0 1-5.625 12.063 18.51 18.51 0 0 1-7.281 6.719q-4.531 2.344-12.219 2.344-7.5 0-11.25-1.625a5.928 5.928 0 0 1-3.75-5.937 5.764 5.764 0 0 1 1.781-4.531 7.7 7.7 0 0 1 5.281-1.594 9.735 9.735 0 0 1 2.688.375 12.771 12.771 0 0 0 2.813.375 10.154 10.154 0 0 0 4.625-.875 8.094 8.094 0 0 0 3.031-3.031 46.536 46.536 0 0 0 3.093-6.345Zm47.225-12.5v-74q0-5.125 2.281-7.75a7.74 7.74 0 0 1 6.156-2.625 8.073 8.073 0 0 1 6.25 2.594q2.375 2.594 2.375 7.781v74q0 5.188-2.406 7.781a8.1 8.1 0 0 1-6.219 2.594 7.7 7.7 0 0 1-6.094-2.687q-2.343-2.688-2.343-7.688Zm45.35-49.312v49.312q0 5.125-2.437 7.75a8.076 8.076 0 0 1-6.187 2.625 7.7 7.7 0 0 1-6.094-2.687q-2.344-2.688-2.344-7.688V35.563q0-5.062 2.344-7.625a7.876 7.876 0 0 1 6.094-2.562 8.171 8.171 0 0 1 6.188 2.563 9.921 9.921 0 0 1 2.436 7.124Zm-8.437-17.626a9 9 0 0 1-6.094-2.187 7.737 7.737 0 0 1-2.531-6.187 7.689 7.689 0 0 1 2.594-5.969 8.718 8.718 0 0 1 6.031-2.344 8.942 8.942 0 0 1 5.875 2.125 7.578 7.578 0 0 1 2.563 6.188 7.8 7.8 0 0 1-2.5 6.156 8.648 8.648 0 0 1-5.938 2.218Zm35.163 17.375v2.063a29.863 29.863 0 0 1 9.844-8.719 26.219 26.219 0 0 1 12.281-2.781 24.507 24.507 0 0 1 12.063 2.938 18.664 18.664 0 0 1 7.938 8.313 19.768 19.768 0 0 1 2.188 6.75 69.937 69.937 0 0 1 .5 9.25v31.75q0 5.125-2.344 7.75a7.787 7.787 0 0 1-6.094 2.625 7.868 7.868 0 0 1-6.187-2.687q-2.377-2.689-2.377-7.689V55.938q0-8.437-2.344-12.906t-9.344-4.469a13.837 13.837 0 0 0-8.312 2.719 15.625 15.625 0 0 0-5.5 7.469q-1.25 3.813-1.25 14.25v21.375q0 5.188-2.406 7.781a8.1 8.1 0 0 1-6.219 2.594 7.73 7.73 0 0 1-6.062-2.687q-2.375-2.687-2.375-7.687V35.063q0-4.875 2.125-7.281a7.356 7.356 0 0 1 5.813-2.406 7.883 7.883 0 0 1 4.063 1.063 7.608 7.608 0 0 1 2.906 3.188 11.233 11.233 0 0 1 1.093 5.186Zm97.912 52.125L391.1 62.188l-9.25 8.75v13.563q0 4.938-2.594 7.594a8.113 8.113 0 0 1-5.969 2.656 7.719 7.719 0 0 1-6.187-2.625q-2.25-2.625-2.25-7.75v-72.75q0-5.687 2.188-8.656a7.3 7.3 0 0 1 6.25-2.969 7.821 7.821 0 0 1 6.25 2.688q2.312 2.688 2.313 7.938v41.375l19.188-20.125a47.191 47.191 0 0 1 5.438-5.125 7.5 7.5 0 0 1 4.563-1.375 7.385 7.385 0 0 1 5.313 2.031 6.753 6.753 0 0 1 2.125 5.094q0 3.75-6.937 10l-9.062 8.313 17.5 27.5q1.937 3.063 2.781 4.656a6.5 6.5 0 0 1 .844 3.031 8.94 8.94 0 0 1-2.219 6.406 7.674 7.674 0 0 1-5.844 2.344 6.511 6.511 0 0 1-4.812-1.687 40.8 40.8 0 0 1-4.567-6.127Z"/></svg>
        </a>
        <div class="nav">

            <a sec:authorize="isAuthenticated()" href="/shorten">Shorten</a>
            <a sec:authorize="isAuthenticated()" href="/urls">URLs</a>
            <a sec:authorize="isAnonymous()" href="/login">Log in</a>

            <div sec:authorize="isAuthenticated()" id="profile">
                <img sec:authorize="isAuthenticated()"
                     th:src="${#authentication.principal.attributes['picture']}"
                     alt="Profile"
                     class="profile-picture">

                <span
                        class="profile-name"
                        sec:authorize="isAuthenticated()"
                        th:text="${#authentication.principal.attributes['name']}"></span>

                <div id="menu" class="display-none">

                    <a sec:authorize="isAuthenticated()" href="/logout">Logout</a>

                </div>
            </div>

        </div>

        <script defer>

            const tempHeader = document.getElementById("profile");
            const menu = document.getElementById("menu");

            if (tempHeader && menu){

                tempHeader.addEventListener("click", (e) => {
                    e.stopPropagation();
                    menu.classList.toggle("display-none");
                });

                document.addEventListener("click", () => {
                    menu.classList.add("display-none");
                });

            }

        </script>

    </div>
</body>
</html>